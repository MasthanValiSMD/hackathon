
// async function getUsers() {
//   let url = "https://api.github.com/users";
//   try {
//     let res = await fetch(url);
//     return await res.json();
//   } catch (error) {
//     console.log(error);
//   }
// }

// async function renderUsers() {
//     let users = await getUsers();
//     let html = '';
//     users.forEach(function (user) {
//         let htmlSegment = `<div class="user">
//         <img src="${user.avatar_url}">
//         </div>`;
//         html += htmlSegment;
//     });
//     let container = document.querySelector(".Container");
//     container.innerHTML = html;
// }

// renderUsers();















function createElement(element) {
  return document.createElement(element);
}

function appendElement(parent, ele) {
  return parent.appendChild(ele);
}
let body = document.getElementsByTagName("body")[0];

let div = createElement("div");
div.className = "Container";
appendElement(body, div);

let h1 = document.createElement("h1");
h1.innerHTML = "Github API Repos Application ";
appendElement(div, h1);

let form = document.createElement("form");
form.id = "myForm";
form.autocomplete = "off";
appendElement(div, form);

let formDiv = document.createElement("div");
formDiv.className = "form-group";
appendElement(form, formDiv);

let input = document.createElement("input");
input.id = "search";
input.placeholder = "Search here";
appendElement(formDiv, input);

let formDiv1 = document.createElement("div");
formDiv1.className = "form-group";
appendElement(form, formDiv1);

let button = document.createElement("button");
button.innerHTML = "User Search";
appendElement(formDiv1, button);

let resultDiv = document.createElement("div");
resultDiv.id = "result";
appendElement(div,resultDiv)

var Form = document.getElementById("myForm");

Form.addEventListener('submit', function (e) {
    e.preventDefault();

    var Search = document.getElementById("search").value;
    var originalName = Search.split(" ").join(" ");

    document.getElementById("result").innerHtml = "";

    fetch("https://api.github.com/users/" + originalName)
        .then((result) => result.json())
        .then((data) => {
            console.log(data)
            
            document.getElementById("result").innerHTML = `
             <img src =${data.avatar_url}/>
             <a target ="_blank" href="https://github.com/${originalName}"><p>${data.html_url}</p></a>`
    })
})